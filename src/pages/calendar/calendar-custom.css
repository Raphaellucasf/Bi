/* Customizações do FullCalendar */

/* Limitar altura das células do calendário */
.fc-daygrid-day-frame {
  min-height: 100px !important;
  max-height: 120px !important;
}

/* Garantir que o calendário seja sempre responsivo */
.fc {
  width: 100% !important;
}

/* Garantir que os números dos dias sempre apareçam */
.fc-daygrid-day-top {
  display: flex !important;
  flex-direction: row !important;
  justify-content: flex-start !important;
  padding: 4px !important;
}

/* Número do dia sempre visível */
.fc-daygrid-day-number {
  padding: 4px 8px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  min-width: auto !important;
  display: inline-block !important;
}

/* Container do calendário responsivo */
.fc-view-harness {
  min-height: 600px !important;
}

/* Ajustar células para caber na tela */
.fc-scrollgrid {
  border-collapse: collapse !important;
  width: 100% !important;
}

/* Células com largura flexível */
.fc-col-header-cell,
.fc-daygrid-day {
  min-width: 0 !important;
  width: auto !important;
}

/* Estilo dos eventos - normalizado para todos */
.fc-event,
.fc-daygrid-event,
.fc-h-event {
  font-size: 0.75rem !important;
  padding: 2px 4px !important;
  margin: 1px 2px !important;
  border-radius: 3px !important;
  border: none !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  cursor: pointer !important;
  height: auto !important;
  max-height: 20px !important;
  line-height: 16px !important;
}

.fc-event:hover,
.fc-daygrid-event:hover,
.fc-h-event:hover {
  opacity: 0.85 !important;
}

/* Horário do evento */
.fc-event-time,
.fc-daygrid-event-time {
  font-weight: 600 !important;
  margin-right: 4px !important;
  font-size: 0.75rem !important;
}

/* Título do evento */
.fc-event-title,
.fc-daygrid-event-title {
  font-weight: 500 !important;
  font-size: 0.75rem !important;
}

/* Container interno do evento */
.fc-daygrid-event-harness,
.fc-event-main {
  height: auto !important;
  max-height: 20px !important;
}

/* Link "mais X" */
.fc-more-link {
  font-size: 0.75rem !important;
  font-weight: 600 !important;
  color: #1976d2 !important;
  padding: 2px 4px !important;
  margin: 1px 2px !important;
  text-decoration: none !important;
  display: block !important;
  text-align: center !important;
  background-color: #e3f2fd !important;
  border-radius: 3px !important;
  transition: all 0.2s ease !important;
}

.fc-more-link:hover {
  background-color: #bbdefb !important;
  color: #0d47a1 !important;
}

/* Popover ao clicar em "mais X" */
.fc-popover {
  z-index: 9999 !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12) !important;
  border-radius: 12px !important;
  border: 1px solid #e0e0e0 !important;
  background: white !important;
  min-width: 250px !important;
}

.fc-popover-header {
  background-color: #f8f9fa !important;
  padding: 12px 16px !important;
  font-weight: 600 !important;
  font-size: 0.875rem !important;
  border-radius: 12px 12px 0 0 !important;
  border-bottom: 1px solid #e0e0e0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

.fc-popover-title {
  color: #333 !important;
  font-weight: 600 !important;
}

.fc-popover-body {
  padding: 4px !important;
  max-height: 400px !important;
  overflow-y: auto !important;
  background: white !important;
}

/* Eventos dentro do popover */
.fc-popover .fc-event {
  margin: 4px 8px !important;
  padding: 6px 8px !important;
  border-radius: 6px !important;
  font-size: 0.813rem !important;
  display: block !important;
  white-space: normal !important;
  line-height: 1.3 !important;
}

.fc-popover .fc-event-time {
  display: inline-block !important;
  font-weight: 700 !important;
  margin-right: 6px !important;
}

.fc-popover .fc-event-title {
  display: inline !important;
  font-weight: 500 !important;
}

/* Botão de fechar do popover */
.fc-popover-close {
  font-size: 1.25rem !important;
  color: #666 !important;
  cursor: pointer !important;
  padding: 2px 6px !important;
  line-height: 1 !important;
  background: transparent !important;
  border: none !important;
  border-radius: 4px !important;
  transition: all 0.2s !important;
}

.fc-popover-close:hover {
  color: #333 !important;
  background-color: #e9ecef !important;
}

/* Ajustar espaçamento interno das células */
.fc-daygrid-day-events {
  margin: 2px !important;
  min-height: 0 !important;
}

/* Remover duplicação - já definido acima */

/* Dia atual */
.fc-day-today {
  background-color: #fff9e6 !important;
}

.fc-day-today .fc-daygrid-day-number {
  color: #1976d2 !important;
  font-weight: 700 !important;
}

/* Responsividade */
@media (max-width: 768px) {
  .fc-event {
    font-size: 0.7rem !important;
    padding: 1px 3px !important;
  }
  
  .fc-more-link {
    font-size: 0.7rem !important;
    padding: 1px 3px !important;
  }
  
  .fc-daygrid-day-frame {
    min-height: 80px !important;
    max-height: 100px !important;
  }
}

/* Garantir que apenas 3 eventos sejam mostrados por padrão */
.fc-daygrid-day-events {
  display: flex !important;
  flex-direction: column !important;
  gap: 1px !important;
}

/* Container dos eventos no dia */
.fc-daygrid-event-harness {
  margin: 0 !important;
}

/* Eventos no popover - lista limpa */
.fc-popover .fc-daygrid-event-harness {
  display: block !important;
}

/* Remover espaçamento extra no popover */
.fc-popover .fc-daygrid-day-events {
  gap: 0 !important;
}

/* Scroll suave no popover */
.fc-popover-body {
  scrollbar-width: thin;
  scrollbar-color: #ccc #f5f5f5;
}

.fc-popover-body::-webkit-scrollbar {
  width: 6px;
}

.fc-popover-body::-webkit-scrollbar-track {
  background: #f5f5f5;
  border-radius: 3px;
}

.fc-popover-body::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 3px;
}

.fc-popover-body::-webkit-scrollbar-thumb:hover {
  background: #999;
}

/* Ajustes adicionais para o popover */
.fc-more-popover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12) !important;
}

.fc-more-popover .fc-popover-body {
  padding: 8px 4px !important;
}

/* Dia da semana no header do popover */
.fc-popover-header .fc-daygrid-day-number {
  font-size: 1.25rem !important;
  font-weight: 700 !important;
  margin-right: 4px !important;
}

/* Ocultar o top do popover se existir */
.fc-popover .fc-daygrid-day-top {
  display: none !important;
}

/* Garantir que o popover mostre apenas eventos */
.fc-popover .fc-daygrid-day-frame {
  background: transparent !important;
  border: none !important;
  min-height: auto !important;
  max-height: none !important;
}

/* Background do popover */
.fc-popover .fc-daygrid-day-bg {
  display: none !important;
}

/* Espaçamento entre eventos no popover */
.fc-popover .fc-daygrid-event-harness + .fc-daygrid-event-harness {
  margin-top: 2px !important;
}

/* Remover bullet points se houver */
.fc-popover ul {
  list-style: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Link "mais" no calendário principal */
.fc-daygrid-more-link {
  display: block !important;
  text-align: center !important;
  padding: 3px 4px !important;
  margin: 1px 2px !important;
  background-color: #e3f2fd !important;
  border-radius: 3px !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.fc-daygrid-more-link:hover {
  background-color: #bbdefb !important;
}

/* Ajustes finais para popover limpo */
.fc-popover .fc-daygrid-body {
  background: white !important;
}

.fc-popover .fc-scrollgrid {
  border: none !important;
}

.fc-popover table {
  border: none !important;
}

.fc-popover td {
  border: none !important;
  background: transparent !important;
}

/* Remover bordas e espaçamentos desnecessários no popover */
.fc-popover .fc-daygrid-day {
  border: none !important;
}

/* Melhorar espaçamento dos eventos no popover */
.fc-popover .fc-event-main {
  padding: 2px 0 !important;
}

/* Tornar o título do popover mais destacado */
.fc-popover-header {
  color: #1a73e8 !important;
}

/* Ajustar o ícone de fechar */
.fc-icon-x:before {
  content: "✕" !important;
  font-size: 18px !important;
  font-weight: 400 !important;
}
